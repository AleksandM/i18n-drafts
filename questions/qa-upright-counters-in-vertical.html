<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Upright counters in vertical text</title>
<meta name="description" content="How to make list markers stand upright in vertical text">
<script>
var f = { }

// AUTHORS should fill in these assignments:
f.directory = 'questions'+'/' // the path to this file, not including /International or the file name
f.filename = 'qa-upright-counters-in-vertical' // the file name WITHOUT extensions
f.authors = 'Richard Ishida, W3C' // author(s) and affiliations
f.previousauthors = '' // as above
f.modifiers = '' // people making substantive changes, and their affiliation
f.searchString = 'qa-upright-counters-in-vertical' // blog search string - usually the filename without extensions
f.firstPubDate = '2024-11-15' // date of the first publication of the document (after review)
f.lastSubstUpdate = { date:'2024-11-15', time:'12:52'}  // date and time of latest substantive changes to this document
f.status = 'review'  // should be one of draft, review, published, notreviewed or obsolete
f.path = '../' // what you need to prepend to a URL to get to the /International directory 

// AUTHORS AND TRANSLATORS should fill in these assignments:
f.thisVersion = { date:'2024-11-15', time:'12:52'} // date and time of latest edits to this document/translation
f.contributors = '' // people providing useful contributions or feedback during review or at other times
// also make sure that the lang attribute on the html tag is correct!
f.sources = '' // describes sources of information

// TRANSLATORS should fill in these assignments:
f.translators = 'xxxNAME, ORG' // translator(s) and their affiliation - a elements allowed, but use double quotes for attributes

f.breadcrumb = 'styling'

f.additionalLinks = ''
</script>
<script src="qa-upright-counters-in-vertical-data/translations.js"> </script>
<script src="../javascript/doc-structure/article-dt.js"> </script>
<script src="../javascript/boilerplate-text/boilerplate-en.js"> </script>
<!--TRANSLATORS must change -en in the line just above to the subtag for their language! -->
<script src="../javascript/doc-structure/article-2022.js"> </script>
<script src="../javascript/articletoc-2022.js"></script>
<link rel="stylesheet" href="../style/article-2022.css" />
<link rel="copyright" href="#copyright"/>
<script src="../javascript/prism.js"></script>
<link rel="stylesheet" href="../style/prism.css">
<style>
@counter-style circled-decimal { 
system: fixed 0;
symbols: '\24EA' '\2460' '\2461' '\2462' '\2463' '\2464' '\2465' '\2466' '\2467' '\2468' '\2469' '\246A' '\246B' '\246C' '\246D' '\246E' '\246F' '\2470' '\2471' '\2472' '\2473' '\3251' '\3252' '\3253' '\3254' '\3255' '\3256' '\3257' '\3258' '\3259' '\325a' '\325b' '\325c' '\325d' '\325e' '\325f' '\32b1' '\32b2' '\32b3' '\32b4' '\32b5' '\32b6' '\32b7' '\32b8' '\32b9' '\32ba' '\32bb' '\32bc' '\32bd' '\32be' '\32bf';
/* symbols: '⓪' '①' '②' '③' '④' '⑤' '⑥' '⑦' '⑧' '⑨' '⑩' '⑪' '⑫' '⑬' '⑭' '⑮' '⑯' '⑰' '⑱' '⑲' '⑳' '㉑' '㉒' '㉓' '㉔' '㉕' '㉖' '㉗' '㉘' '㉙' '㉚' '㉛' '㉜' '㉝' '㉞' '㉟' '㊱' '㊲' '㊳' '㊴' '㊵' '㊶' '㊷' '㊸' '㊹' '㊺' '㊻' '㊼' '㊽' '㊾' '㊿'; */
suffix: '';
}
@counter-style dotted-decimal { 
system: fixed; 
symbols: '\2488' '\2489' '\248A' '\248B' '\248C' '\248D' '\248E' '\248F' '\2490' '\2491' '\2492' '\2493' '\2494' '\2495' '\2496' '\2497' '\2498' '\2499' '\249A' '\249B';
/* symbols: '⒈' '⒉' '⒊' '⒋' '⒌' '⒍' '⒎' '⒏' '⒐' '⒑' '⒒' '⒓' '⒔' '⒕' '⒖' '⒗' '⒘' '⒙' '⒚' '⒛'; */
suffix: '';
}
@counter-style upright-decimal {
  system: extends decimal;
  suffix: '';
}
@counter-style upright-parens {
  system: extends decimal;
  prefix: '('; suffix: ')';
}






/* EXAMPLE WITH UPRIGHT CHARACTERS */
#out-circled_decimal div {
    writing-mode:vertical-rl;
    padding-block:1rem;
    width:100%;
    height:18rem;
    font-family: 'hiragino sans', meiryo;
    }
#out-circled_decimal ol {
    margin-inline: 0;
    }
#out-circled_decimal li {
    list-style-type: circled-decimal;
    margin-block: 0;
    }



/* EXAMPLE WITH ::MARKER BUT NO ADDITIONAL STYLING */
#out_styled_marker div {
    writing-mode:vertical-rl;
    padding-block:1rem;
    width:100%;
    height:18rem;
    font-family: 'hiragino sans', meiryo;
    }
#out_styled_marker ol {
    margin-inline: 0;
    }
#out_styled_marker li {
  list-style-type: upright-decimal;
  }
#out_styled_marker li::marker {
  text-combine-upright: all;
  }



/* EXAMPLE WITH ::MARKER PLUS ADDITIONAL STYLING */
#out_marker_styles div {
    writing-mode:vertical-rl;
    padding-block:1rem;
    width:100%;
    height:12rem;
    font-family: 'hiragino sans', meiryo;
    }
#out_marker_styles ol {
    margin-inline: 0;
    }
#out_marker_styles li {
  list-style-type: upright-parens;
  padding-inline-start: 1em;
  }
#out_marker_styles li::marker {
  text-combine-upright: all;
  color: red;
  font-size: 1.2em;
  }



/* SPACING EXAMPLE */
#out_spacing div {
    writing-mode:vertical-rl;
    padding-block:0rem;
    width:100%;
    height:32rem;
    font-family: 'hiragino sans', meiryo;
    line-height: 1.6;
    }
#out_spacing ol {
    margin-inline-start: 3em;
    margin-inline-end: 0;
    margin-block: 0;
    }
#out_spacing li {
  list-style-type: upright-decimal;
  text-indent: 1em;
  }
#out_spacing li::marker {
  text-combine-upright: all;
  font-size: 1em;
  color: gray;
  }
#out_spacing p {
  text-indent: 1em;
  margin-block: 0;
  }

/*
#out_marker_styles ol { writing-mode:vertical-rl; margin-inline: 0; }
#out_marker_styles li::marker {
  text-combine-upright: all;
  color: red;
  font-size: 1.2em;
  }
#out_marker_styles li {
  padding-inline-start: .4em;
  }*/
</style>
</head>

<body>
<header>
  <nav id="mainNavigation"></nav><script>document.getElementById('mainNavigation').innerHTML = mainNavigation</script>
  
  <h1>How to make list markers stand upright in vertical text</h1>
</header>


  <div id="audience">
    <div id="updateInfo"></div><script>document.getElementById('updateInfo').innerHTML = g.updated</script>
</div>
    
<section id="question">
<!--<h2>Question</h2>
    <p class="question">How do I make oblique text lean to the left for right-to-left writing systems?</p>-->
    
    <p style="color:darkorange; font-size:1.4em;">This page has been substatively changed since the start of the review period.</p>

  <p>In Chinese, Japanese, Korean, and Mongolian vertically-set text it is normal for list counters to sit upright above the start of the list.</p>
  
  <figure id="fig_vertical_lists">
  <img src="qa-upright-counters-in-vertical-data/vertical_lists.png" alt="Picture of a vertical list in Japanese with numeric counters." style="margin-inline:2rem; height: 25em;">
  <img src="qa-upright-counters-in-vertical-data/mongolian_list.jpg" alt="Picture of a vertical list in Mongolian with numeric counters." style="margin-inline:2rem;">
</figure>
  
<p>Until recently this was problematic, because browsers would only show the numbers lying on their side. This article describes how to make them stand upright as shown in the picture above, and the currently remaining issues.</p>
</section>


<!--<section id="nutshell">
    <h2 id="quickanswer">Quick answer</h2>
  <p>You should always bear in mind that the content of a <code class="kw" translate="no">b</code> element may not always be bold, and that of an <code class="kw" translate="no">i</code> element may not always be italic. The actual style is dependent on the CSS style definitions. You should also bear in mind that bold and italic may not be the preferred style for content in certain languages.</p>
<p>FIGURE: N'Ko</p>
  <p>You should not use <code class="kw" translate="no">b</code> and <code class="kw" translate="no">i</code> tags if there is a more descriptive and relevant tag available. If you do use them, it is usually better to add class attributes that describe the intended meaning of the markup, so that you can distinguish one use from another. </p>
  <p>The rest of this article will explain this in more detail.</p>
</section>-->


<section id="detail">
<h2>Details</h2>

<p>We'll look at three alternative approaches, one of which works across all major browser engines,  another which doesn't currently work with WebKit browsers, and a third that doesn't yet work with any major browser.</p>





<section id="option1">
<h3>Use counter-styles &amp; upright characters</h3>

<p>The simplest approach is to use counters that are always upright in vertical text.</p>

<p>Customised counter-styles are now supported by all major browser engines. This therefore provides an opportunity that will lead to an interoperable solution.</p>
<p>First, you need to create an <code class="kw" translate="no">@counter-style</code> declaration in your CSS. We suggest a circled decimal style below, but as these are customisable you can also make up your own.</p>

<!--<p><span class="leadin">Option 1.</span> Numbers followed by dots.</p>


<figure class="example" lang="ja">
<pre><code class="language-css">@counter-style dotted-decimal { 
system: fixed; 
symbols: '\2488' '\2489' '\248A' '\248B' '\248C' '\248D' '\248E' '\248F' '\2490' '\2491' '\2492' '\2493' '\2494' '\2495' '\2496' '\2497' '\2498' '\2499' '\249A' '\249B';
/* symbols: '⒈' '⒉' '⒊' '⒋' '⒌' '⒍' '⒎' '⒏' '⒐' '⒑' '⒒' '⒓' '⒔' '⒕' '⒖' '⒗' '⒘' '⒙' '⒚' '⒛'; */
suffix: '';
}</code></pre>
</figure>-->


<!--<p><span class="leadin">Option 1.</span> Circled numbers.</p>-->
<figure class="example" lang="ja">
<pre><code class="language-css">@counter-style circled-decimal { 
system: fixed 0;
symbols: '\24EA' '\2460' '\2461' '\2462' '\2463' '\2464' '\2465' '\2466' '\2467' '\2468' '\2469' '\246A' '\246B' '\246C' '\246D' '\246E' '\246F' '\2470' '\2471' '\2472' '\2473' '\3251' '\3252' '\3253' '\3254' '\3255' '\3256' '\3257' '\3258' '\3259' '\325a' '\325b' '\325c' '\325d' '\325e' '\325f' '\32b1' '\32b2' '\32b3' '\32b4' '\32b5' '\32b6' '\32b7' '\32b8' '\32b9' '\32ba' '\32bb' '\32bc' '\32bd' '\32be' '\32bf';
/* symbols: '⓪' '①' '②' '③' '④' '⑤' '⑥' '⑦' '⑧' '⑨' '⑩' '⑪' '⑫' '⑬' '⑭' '⑮' '⑯' '⑰' '⑱' '⑲' '⑳' '㉑' '㉒' '㉓' '㉔' '㉕' '㉖' '㉗' '㉘' '㉙' '㉚' '㉛' '㉜' '㉝' '㉞' '㉟' '㊱' '㊲' '㊳' '㊴' '㊵' '㊶' '㊷' '㊸' '㊹' '㊺' '㊻' '㊼' '㊽' '㊾' '㊿'; */
suffix: '';
}</code></pre>
</figure>


<p>This counter style definition is taken from <a href="https://www.w3.org/TR/predefined-counter-styles/#digit-styles">Ready-made Counter Styles</a>, where you can find several alternative styles that may be of interest. The suffix is still specified, to avoid the  default full stop appearing, but is reduced to a null string to avoid harmful effects on the horizontal positioning.</p>

<p>Note that this particular counter style is of the “fixed” type. This means that it only supports lists containing up to  50 items. Other similar styles may support fewer counters. This is probably not problematic for most lists in vertical text.</p>

<p>Once you have added this counter-style definition to your CSS, then tie it to your list using CSS code such as the following. You can, of course, add a class name or context to your element selector, if you want to apply the style to just certain lists.</p>


<figure class="example" lang="ja">
<pre><code class="language-css">li { list-style-type: circled-decimal; }</code></pre>
</figure>


<div id="out-circled_decimal" class="browser_output">
<p class="browser_output_title">Output in your browser:</p>
<div style="writing-mode:vertical-rl; list-style-type:dotted-decimal; padding-block:1rem; width:100%; height:18rem;">
<ol><li>仕込む前に生芋を１／４ぐらいの大きさにカット。</li><li>すり潰した生芋</li><li>ながらのパケット式の定量練り、通称バタ練り機</li></ol>
</div>
</div>
</section>






<section id="option2">
<h3>Styling the counter using ::marker</h3>

<p>Many horizontal counter styles use simple digits or alphabetic characters as counters, but in vertical text this will result in a counter lying on its side.  Here we look at how to prevent that, using ordinary decimal counters.  This would enable you to have lists longer than those described above, but it's necessary to take one or two extra steps to ensure that the counter is upright and is properly centred above the vertical line.</p>

<p>For this approach we use the following CSS.</p>


<figure class="example" lang="ja">
<pre><code class="language-css">
@counter-style upright-decimal {
	system: extends decimal;
	suffix: '';
	}

li {
	list-style-type: upright-decimal;
	}

li::marker {
	text-combine-upright: all;
	}</code></pre>
</figure>

<p>We use a counter-style rule to remove the dot and space that follow decimal counters by default. (To make the counter look like &quot;1.&quot;, &quot;2,&quot;, etc.  just set the suffix to <code class="kw" translate="no">&quot;.&quot;</code>.) We then use CSS's <code class="kw" translate="no">::marker</code> pseudo-element to make the counter stand upright above the line.</p>
<p>Here's the result in your browser. It  works in Blink and Gecko browsers, but it  doesn't work at all in WebKit browsers, so it's not a fully interoperable solution (at least not yet).</p>


<div id="out_styled_marker" class="browser_output">
<p class="browser_output_title">Output in your browser:</p>
<div>
<ol class="upright-counters"><li>仕込む前に生芋を１／４ぐらいの大きさにカット。</li><li>すり潰した生芋</li><li>ながらのパケット式の定量練り、通称バタ練り機</li></ol>
</div>
</div>

<p>The example above shows the basic mechanics, but it could do with some additional styling to look right.</p>
</section>






<section id="option3">
<h3>Mixing vertical &amp; horizontal in markers</h3>

<p>Another common style of counters looks like the following.</p>

  
<figure id="fig_vertical_horizontal">
<img src="qa-upright-counters-in-vertical-data/vertical_horizontal.png" alt="Picture of a vertical list in Japanese with numeric counters that have rotated parentheses above and below." style="margin-inline:2rem; height: 25em;">
</figure>

<p>The basic principle for creating this style is the same as previously described, but with a twist, because we need to allow the parentheses to rotate but keep the digit(s) upright.</p>
<p>In theory, we just need to use a different value for <code class="kw" translate="no">text-combine-upright</code>.</p>


<figure class="example" lang="ja">
<pre><code class="language-css">
@counter-style upright-decimal {
	system: extends decimal;  /* same as before */
	suffix: '';
	}

li {
	list-style-type: upright-parens; /* same as before */
	}

li::marker {
	text-combine-upright: digits; /* changed */
	}</code></pre>
</figure>


<p>The <code class="kw" translate="no">digits</code> value seeks out digits within a string and makes them horizontal while leaving the surrounding text vertical. (The syntax shown should work for any 2-digit number. If you ever need to go higher than that, just use <code class="kw" translate="no">digits 4</code> to allow for numbers up to 9,999.)</p>

<p>Unfortunately, this is only a theoretical solution for the time being, because no browser yet supports the <code class="kw" translate="no">digits</code> value.</p>
</section>






<section id="additional_styling">
<h3>Using more CSS to tweak the presentation</h3>

<p>Both types of list described above can benefit from additional styling. For example, using the following CSS we can make the markers in the example just above slightly bigger, and coloured, and we can create an appropriately sized gap between the counter and the list text. (Some of these things are slightly unusual, but they serve as a demonstration of what's possible.)</p>

<p>We'll also change the counter to have parentheses around it. Note how the browser squeezes the result to fit within a line.</p>


<figure class="example" lang="ja">
<pre><code class="language-css">
@counter-style upright-parens {
	system: extends decimal;
	prefix: '('; suffix: ')';
	}

li { 
    list-style-type: upright-parens;
    padding-inline-start: .4em;
    }

li::marker {
    text-combine-upright: all;
    color: red;
    font-size: 1.2em;
    }
</code></pre>
</figure>


<div id="out_marker_styles" class="browser_output">
<p class="browser_output_title">Output in your browser:</p>
<div>
<ol>
<li>仕込む前に生芋を１／４ぐらいの大きさにカット。</li>
<li>すり潰した生芋</li>
<li>ながらのパケット式の定量練り、通称バタ練り機</li>
</ol>
</div>
</div>


<p>The CSS <code class="kw" translate="no">::marker</code> pseudo-element allows you to apply the following adjustments:</p>
    
<ol>
<li>all font properties</li>
<li>the <code class="kw" translate="no">white-space</code> property</li>
<li><code class="kw" translate="no">color</code></li>
<li><code class="kw" translate="no">text-combine-upright</code>, <code class="kw" translate="no">unicode-bidi</code>, and <code class="kw" translate="no">direction</code></li>
<li>the <code class="kw" translate="no">content</code> property</li>
<li>all animation and transition properties</li>
</ol>
</section>






<section id="layout">
<h3>List layout</h3>

<p>The layout of the list items and the list box can be managed using CSS properties. As an illustration, the following CSS code produces a layout similar to <a href="https://www.w3.org/TR/jlreq/#fig3_2_16" target="_blank">example 249</a> in the <abbr title="Requirements for Japanese Text Layout ">JLReq</abbr> document.</p>

<p>(In JLReq this example has the rotated parentheses in its markers, but since that can't currently be achieved in browsers we will use simple ASCII digits here.)</p>


<figure class="example" lang="ja">
<pre><code class="language-css">
@counter-style upright-decimal {
	system: extends decimal;
	suffix: '';
	}

ol {
    margin-inline-start: 3em;
    margin-inline-end: 0;
    }
li { 
    list-style-type: upright-decimal;
    text-indent: 1em;
    }
li::marker {
    text-combine-upright: all;
    }
</code></pre>
</figure>


<div id="out_spacing" class="browser_output">
<p class="browser_output_title">Output in your browser:</p>
<div>
<p>EOWGは、アクセシビリティの必要性の理解を深め、W3Cのアクセシビリティ基準が世界中で採用されるために、そしてさまざまな環境でのアクセシビリティ実装のために、重要な役割を果たすリソースを構築しました。いくつかの例を挙げると：</p>
<ol>
<li>アクセシビリティの基本概念概要および役割別のリソースに記載されている、マネージャー、テスター、政策立案者、教育者向けのリソース</li>
<li>ページ構造、メニュー、画像、テーブル、カルーセル、フォームをカバーするチュートリアル</li>
<li>障害を持つ人々がどのようにウェブを利用するか</li>
<li>アクセシビリティのためのデザイン、執筆、開発のためのヒント</li>
</ol>
<p>EOWGのリソースは何百万回も閲覧され、政府、大学、産業界など、幅広いコンテキストで使用されています。EOWGのリソースは複数の言語に翻訳されています。</p>
</div>
</div>

 
 <p>We want the list counters to have a 2-character gap above them. Note, however, that we give the top of the list box (<code class="kw" translate="no">ol</code>) an offset of 3em because this determines the distance to the beginning of the <em>list text</em>, rather than the list markers).</p>
 
 <p>In the <a href="#additional_styling">previous section</a> the example applied a gap between the list markers and the list text so that the start of each item of list text was flush. This was achieved by setting initial padding on the <code class="kw" translate="no">li</code> element.</p>
 
 <p>The example we are emulating in this section is a little more complicated. In typical Japanese style, each paragraph, including each item of list text, has a 1-character gap at the beginning of its initial line. This is achieved using <code class="kw" translate="no">text-indent</code>.</p>
</section>
</section>






<section id="endlinks">
<h2>Further reading</h2>
<aside class="section" id="survey"> </aside><script>document.getElementById('survey').innerHTML = g.survey</script>

  <ul id="full-links">
    <li>
      <p><cite>Authoring web pages</cite></p>
      <ul>
        <li><a href="https://www.w3.org/International/techniques/authoring-html#liststyle">Styling counters for lists, etc.</a></li>
      </ul>
    </li>
    <li>
      <p><cite>Language Enablement</cite></p>
      <ul>
        <li><a href="https://www.w3.org/TR/typography/#lists">Lists, counters, etc</a></li>
        <li><a href="https://www.w3.org/TR/typography/#writing_mode">Writing mode</a></li>
      </ul>
    </li>
    <li>
      <p><cite>Gap Analysis tracker</cite></p>
      <ul>
        <li><a href="https://www.w3.org/TR/jpan-gap/#issue170_writing_mode">Unable to make list counters stand upright in vertical text</a></li>
      </ul>
    </li>
  </ul>
</section>


<footer id="thefooter"></footer><script>document.getElementById('thefooter').innerHTML = g.bottomOfPage</script>
<script>completePage()</script>
</body>
</html>
